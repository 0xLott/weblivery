<%- include('partials/header') %>

<section id="service-form">

	<div class="page">

		<div class="box">

			<h1>Solicitação de Serviço</h1>

			<% if (sent) { %>
			<div class="toast-container position-fixed bottom-0 end-0 p-3">
				<div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
					<div class="toast-header">
						<strong class="me-auto"><i class="fa-solid fa-circle-check"></i> Sucesso</strong>
						<button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
					</div>
					<div class="toast-body">
						Formulário enviado com sucesso!
					</div>
				</div>
			</div>

			<script>
				const toastTrigger = document.getElementById('liveToastBtn')
				const toastLiveExample = document.getElementById('liveToast')

				window.onload = (ev) => {
						const toastBootstrap = new bootstrap.Toast(toastLiveExample)
						toastBootstrap.show()
				}
			</script>
			<% } %>

			<form class="needs-validation" action="/request/" method="post" novalidate>

				<label class="mt-3 form-label" for="fullnameInput">Nome Completo</label>
				<div class="input-group has-validation">
					<input class="form-control" type="text" name="requester" id="fullnameInput" required>
					<div class="invalid-feedback">
						Forneça um nome completo.
					</div>
				</div>

				<label class="mt-3 form-label" for="emailInput">Email</label>
				<div class="input-group has-validation">
					<input class="form-control" type="email" name="email" id="emailInput" required>
					<div class="invalid-feedback">
						Forneça um email válido.
					</div>
				</div>

				<label class="mt-3 form-label" for="phoneInput">Telefone</label>
				<div class="input-group has-validation">
					<input class="form-control" type="text" name="phone" id="phoneInput" required>
					<div class="invalid-feedback">
						Forneça um número de telefone válido.
					</div>
				</div>

				<div class="mb-4 mt-4 form-check">
					<input class="form-check-input" type="checkbox" name="whatsapp" id="whatsappCheck">
					<label class="form-check-label" for="whatsappCheck">Possui Whatsapp?</label>
				</div>

				<label class="mt-3 form-label" for="titleInput">Titulo da Solicitação</label>
				<div class="input-group has-validation">
					<input class="form-control" type="text" name="title" id="titleInput" required>
					<div class="invalid-feedback">
						Forneça um titulo para a solicitação.
					</div>
				</div>

				<label class="mt-3 form-label" for="descriptionInput">Descrição</label>
				<div class="input-group has-validation">
					<textarea class="form-control" name="description" id="descriptionInput" cols="30" rows="10" required></textarea>
					<div class="invalid-feedback">
						Forneça uma descrição.
					</div>
				</div>

				<button class="mt-3 submit-btn" type="submit">Enviar</button>

			</form>

		</div>

	</div>

</section>

<%- include('partials/footer') %>